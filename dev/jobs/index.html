<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Amazon Braket Hybrid Jobs · Braket.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Braket.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Braket.jl Documentation</a></li><li><a class="tocitem" href="../ahs/">Analog Hamiltonian Simulation</a></li><li><a class="tocitem" href="../aws/">AWS</a></li><li><a class="tocitem" href="../circuits/">Circuits</a></li><li><a class="tocitem" href="../compiler_directives/">Compiler Directives</a></li><li><a class="tocitem" href="../device/">Devices</a></li><li><a class="tocitem" href="../gates/">Gates</a></li><li class="is-active"><a class="tocitem" href>Amazon Braket Hybrid Jobs</a></li><li><a class="tocitem" href="../noises/">Noises</a></li><li><a class="tocitem" href="../observables/">Observables</a></li><li><a class="tocitem" href="../pybraket/">PyBraket</a></li><li><a class="tocitem" href="../results/">Results</a></li><li><a class="tocitem" href="../tasks/">Tasks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Amazon Braket Hybrid Jobs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Amazon Braket Hybrid Jobs</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/awslabs/braket-jl/blob/main/docs/src/jobs.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Amazon-Braket-Hybrid-Jobs"><a class="docs-heading-anchor" href="#Amazon-Braket-Hybrid-Jobs">Amazon Braket Hybrid Jobs</a><a id="Amazon-Braket-Hybrid-Jobs-1"></a><a class="docs-heading-anchor-permalink" href="#Amazon-Braket-Hybrid-Jobs" title="Permalink"></a></h1><p>Amazon Braket Hybrid Jobs allow you to easily run hybrid classical-quantum workflows on AWS managed infrastructure by submitting your own scripts which run in a Docker container, either one provided by Amazon Braket or one that is made available to you through Amazon ECR. To learn more about Amazon Braket Hybrid Jobs, see the <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-jobs.html">Developer Guide</a>, and to learn how to provide your own Docker images, see the <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-jobs-byoc.html">Bring Your Own Container (BYOC) guide</a>.</p><p>You can also run a <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-jobs-local-mode.html"><code>LocalJob</code></a>, which runs the container and your script on your compute hardware (your laptop, or an EC2 instance, for example), using <code>PyBraket.jl</code>. This can be useful for debugging and performance tuning purposes.</p><article class="docstring"><header><a class="docstring-binding" id="Braket.AwsQuantumJob" href="#Braket.AwsQuantumJob"><code>Braket.AwsQuantumJob</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AwsQuantumJob</code></pre><p>Struct representing an Amazon Braket Hybrid Job.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awslabs/braket-jl/blob/82d0351e4f2f39bf8acf19289e1ae9f5c6dc1654/src/jobs.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Braket.AwsQuantumJob-Tuple{String, String}" href="#Braket.AwsQuantumJob-Tuple{String, String}"><code>Braket.AwsQuantumJob</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AwsQuantumJob(device::String, source_module::String; kwargs...)</code></pre><p>Create and launch an <code>AwsQuantumJob</code> which will use device <code>device</code> (a managed simulator, a QPU, or an <a href="https://docs.aws.amazon.com/braket/latest/developerguide/pennylane-embedded-simulators.html">embedded simulator</a>) and will run the code (either a single file, or a Julia package, or a Python module) located at <code>source_module</code>. The keyword arguments <code>kwargs</code> control the launch configuration of the job.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>entry_point::String</code> - the function to run in <code>source_module</code> if <code>source_module</code> is a Python module/Julia package. Defaults to an empty string, in which case the behavior depends on the code language. In Python, the job will attempt to find a function called <code>main</code> in <code>source_module</code> and run it. In Julia, <code>source_module</code> will be loaded and run with Julia&#39;s <a href="https://docs.julialang.org/en/v1/base/base/#Base.include"><code>include</code></a>.</li><li><code>image_uri::String</code> - the URI of the Docker image in ECR to run the Job on. Defaults to an empty string, in which case the <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-jobs-script-environment.html">base container</a> is used.</li><li><code>job_name::String</code> - the name for the job, which will be displayed in the <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-jobs-first.html">jobs console</a>. The default is a combination of the container image name and the current time.</li><li><code>code_location::String</code> - the S3 prefix URI to which code will be uploaded. The default is <code>default_bucket()/jobs/&lt;job_name&gt;/script</code></li><li><code>role_arn::String</code> - the IAM role ARN to use to run the job. The default is to use the default jobs role.</li><li><code>wait_until_complete::Bool</code> - whether to block until the job is complete, displaying log information as it arrives (<code>true</code>) or to run the job asynchronously (<code>false</code>, default).</li><li><code>hyperparameters::Dict{String, Any}</code> - hyperparameters to provide to the job which will be available from an environment variable when the job is run. See the <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-jobs-hyperparameters.html">Amazon Braket documentation</a> for more.</li><li><code>input_data::Union{String, Dict}</code> - information about the training/input data to provide to the job. A <code>Dict</code> should map channel names to local paths or S3 URIs. Contents found at any local paths encoded as <code>String</code>s will be uploaded to S3 at <code>s3://{default_bucket_name}/jobs/{job_name}/data/{channel_name}</code>. If a local path or S3 URI is provided, it will be given a default channel name <code>&quot;input&quot;</code>. The default is <code>Dict()</code>.</li><li><code>instance_config::InstanceConfig</code> - the instance configuration to use to run the job. See the <a href="https://docs.aws.amazon.com/braket/latest/developerguide/braket-jobs-configure-job-instance-for-script.html">Amazon Braket documentation</a> for more information about available instance types. The default is <code>InstanceConfig(&quot;ml.m5.large&quot;, 1, 30)</code>.</li><li><code>distribution::String</code> - specifies how the job should be distributed. If set to <code>&quot;data_parallel&quot;</code>, the hyperparameters for the job will be set to use data parallelism features for PyTorch or TensorFlow.</li><li><code>stopping_condition::StoppingCondition</code> - the maximum length of time, in seconds, that a job can run before being forcefully stopped. The default is <code>StoppingCondition(5 * 24 * 60 * 60)</code>.</li><li><code>output_data_config::OutputDataConfig</code> - specifies the location for the output of the job. Any data stored here will be available to <a href="#Braket.download_result"><code>download_result</code></a> and <a href="../tasks/#Braket.results-Tuple{AwsQuantumTaskBatch}"><code>results</code></a>. The default is <code>OutputDataConfig(&quot;s3://{default_bucket_name}/jobs/{job_name}/data&quot;)</code>.</li><li><code>copy_checkpoints_from_job::String</code> - specifies the job ARN whose checkpoint is to be used in the current job. Specifying this value will copy over the checkpoint data from <code>use_checkpoints_from_job</code>&#39;s <code>checkpoint_config</code> S3 URI to the current job&#39;s <code>checkpoint_config</code> S3 URI, making it available at <code>checkpoint_config.localPath</code> during the job execution. The default is not to copy any checkpoints (an empty string).</li><li><code>checkpoint_config::CheckpointConfig</code> - specifies the location where checkpoint data for <em>this</em> job is to be stored. The default is <code>CheckpointConfig(&quot;/opt/jobs/checkpoints&quot;, &quot;s3://{default_bucket_name}/jobs/{job_name}/checkpoints&quot;)</code>.</li><li><code>tags::Dict{String, String}</code> - specifies the key-value pairs for tagging this job.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awslabs/braket-jl/blob/82d0351e4f2f39bf8acf19289e1ae9f5c6dc1654/src/jobs.jl#L443-L485">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Braket.log_metric" href="#Braket.log_metric"><code>Braket.log_metric</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">log_metric(metric_name::String, value::Union{Float64, Int}; timestamp=time(), iteration_number=nothing)</code></pre><p>Within a job script, log a metric with name <code>metric_name</code> and value <code>value</code> which can later be fetched <em>outside the job</em> with <a href="#Braket.metrics"><code>metrics</code></a>. A metric might be, for example, the loss of a training algorithm at each epoch, or similar.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awslabs/braket-jl/blob/82d0351e4f2f39bf8acf19289e1ae9f5c6dc1654/src/jobs.jl#L58-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Braket.metrics" href="#Braket.metrics"><code>Braket.metrics</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">metrics(j::AwsQuantumJob; metric_type=&quot;timestamp&quot;, statistic=&quot;max&quot;)</code></pre><p>Fetches the metrics for job <code>j</code>. Metrics are generated by <a href="#Braket.log_metric"><code>log_metric</code></a> within the job script.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awslabs/braket-jl/blob/82d0351e4f2f39bf8acf19289e1ae9f5c6dc1654/src/jobs.jl#L230-L235">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Braket.logs" href="#Braket.logs"><code>Braket.logs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">logs(j::AwsQuantumJob; wait::Bool=false, poll_interval_seconds::Int=5)</code></pre><p>Fetches the logs of job <code>j</code>. If <code>wait</code> is <code>true</code>, blocks until <code>j</code> has entered a terminal state (<code>&quot;COMPLETED&quot;</code>, <code>&quot;FAILED&quot;</code>, or <code>&quot;CANCELLED&quot;</code>). Polls every <code>poll_interval_seconds</code> for new log data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awslabs/braket-jl/blob/82d0351e4f2f39bf8acf19289e1ae9f5c6dc1654/src/jobs.jl#L148-L153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Braket.download_result" href="#Braket.download_result"><code>Braket.download_result</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">download_result(j::AwsQuantumJob; kwargs...)</code></pre><p>Download and extract the results of job <code>j</code>. Valid <code>kwargs</code> are:</p><ul><li><code>extract_to::String</code> - the local folder to extract the results to. Default is the current working directory.</li><li><code>poll_timeout_seconds::Int</code> - the maximum number of seconds to wait while polling for results. Default: 864000</li><li><code>poll_interval_seconds::Int</code> - how many seconds to wait between download attempts. Default: 5</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/awslabs/braket-jl/blob/82d0351e4f2f39bf8acf19289e1ae9f5c6dc1654/src/jobs.jl#L287-L294">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gates/">« Gates</a><a class="docs-footer-nextpage" href="../noises/">Noises »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Monday 31 October 2022 16:31">Monday 31 October 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
